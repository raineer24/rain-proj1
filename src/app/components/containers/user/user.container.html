<button type="button" mat-stroked-button (click)="logoutx()">Logout</button>
<div *ngIf="appState$ | async as state">
  {{ state.auth.authUser.username | titlecase }}
  <ng-container class="col-sm-12" *ngIf="state.auth.authUser?.user_profile == 0; else profile">
    <h4>You have not yet setup a profile, please add some info</h4>
    <button [routerLink]="['/add']">CREATE PROFILE</button>
  </ng-container>
  <ng-template #profile>
    <div *ngFor="let profile of state.auth.authUser?.user_profile">
      <mat-toolbar class="nav">
        <a mat-button routerLink="edit/{{ profile.users_id }}">Edit Profile</a>
        <a mat-button>Add Experience</a>
        <a mat-button>Add Education</a>
      </mat-toolbar>
    </div>
  </ng-template>

  <h2>Experience Credentials</h2>
  <div>
    <table>
      <thead>
        <th>Company</th>
        <th>Title</th>
        <th>Years</th>
      </thead>
      <ng-container *ngFor="let data of state.auth.authUser?.user_experience; let i = index">
        <td>{{data.company_name}}</td>
        <td>{{data.job_title }}</td>
        <td> {{ data.start_date | date: 'M/d/yyyy' }}-{{ (data.end_date === null) ? 'Now' :  data.end_date | date: 'M/d/yyyy' 
        }}</td>
      </ng-container>

    </table>



  </div>

  <h2 class='my-2'>Experience Credentials</h2>
  <div class="table">
    <div class="table-row">
      <div class="table-head">Company</div>
      <div class="table-head">Title</div>
      <div class="table-head">Years</div>
      <div class="table-head"></div>
    </div>
    <div *ngFor="let data of state.auth.authUser?.user_experience; let i = index" class="table-row">
      <div class="table-cell">{{data.company_name}}</div>
      <div class="table-cell">{{data.job_title }}</div>
      <div class="table-cell">
        {{ data.start_date | date: 'M/d/yyyy' }}-{{ (data.end_date === null) ? 'Now' :  data.end_date | date: 'M/d/yyyy' 
        }}
      </div>
      <div class="table-cell"> <button (click)="deleteUser(data.user_experience_detail_id)"><i
            class="fa fa-trash"></i></button></div>

    </div>
  </div>
  <h2>Education Credentials</h2>
  <div class="table">
    <div class="table-row">
      <div class="table-head">School</div>
      <div class="table-head">Degree</div>
      <div class="table-head">Years</div>
      <div class="table-head"></div>
    </div>
    <div *ngFor="let data of state.auth.authUser?.user_education; let i = index" class="table-row">
      <div class="table-cell">{{data.school_name}}</div>
      <div class="table-cell">{{data.degree_name }}</div>
      <div class="table-cell">
        {{ data.start_date | date: 'M/d/yyyy' }}-{{ (data.end_date === null) ? 'Now' :  data.end_date | date: 'M/d/yyyy' 
        }}
      </div>
      <div class="table-cell"> <button (click)="deleteEdu(data.user_education_detail_id)"><i
            class="fa fa-trash"></i></button></div>

    </div>
  </div>
</div>
