<div class="center-content">
  <mat-card class="example-card" *ngIf="form; else noForm">
    <mat-spinner *ngIf="isLoading$ | async" class="mx-auto"></mat-spinner>
    <mat-card-header>
      <mat-card-title>Login/Register</mat-card-title>
      <mat-card-subtitle>Web App Management</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>

      <mat-tab-group>
        <form [formGroup]="form" class="form-container" role="form">
          <mat-tab label="login">
            <mat-form-field class="example-full-width">
              <mat-label>Email</mat-label>
              <input matInput placeholder="john@email.com" formControlName="email">
              <mat-icon matSuffix>vpn_key</mat-icon>
              <mat-hint align="end">The email of the user</mat-hint>
            </mat-form-field>
          </mat-tab>



          <div class="form-control-container">
            <mat-form-field class="form-control-input">
              <mat-label>Password</mat-label>
              <input matInput type="password" formControlName="password">
            </mat-form-field>
          </div>
          <div class="form-control-container">
            <a mat-button routerLink="/register" class="form-control-button">If you do not have an account you can
              register
              here</a>
          </div>

          <div class="form-control-container">
            <button mat-raised-button class="form-control-button" color="primary" [disabled]="!form.valid"
              (click)="login.emit()">Login
            </button>
          </div>



        </form>
      </mat-tab-group>

    </mat-card-content>
  </mat-card>
</div>


<ng-template #noForm>
  <app-loading-bar></app-loading-bar>
</ng-template>
